(this["webpackJsonpmedusa-records-fe"]=this["webpackJsonpmedusa-records-fe"]||[]).push([[0],{157:function(e,t,a){e.exports=a(180)},164:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),l=a(61),s=a(24),c=a(0),i=a.n(c),o=a(19),u=a.n(o),m=(a(163),a(164),a(23)),d=a(34),p=a(22),f=a(28),h=a(40),g=a(230),v=a(224),b=a(281),E=a(221),y=a(274),x=a(181),w=a(222),j=a(223),N=a(111),k=a.n(N),O="https://medusa-records-be.herokuapp.com/login",T="https://medusa-records-be.herokuapp.com/releases",C="https://medusa-records-be.herokuapp.com/releases/accept",S="https://medusa-records-be.herokuapp.com/releases/reject",R="https://medusa-records-be.herokuapp.com/checkAuth",P="https://medusa-records-be.herokuapp.com/login/refreshToken",F=new Headers({"Content-Type":"application/json"}),L={login:function(e){return fetch(O,{method:"POST",headers:F,body:JSON.stringify({credentials:e}),credentials:"include"})},releases:{home:fetch("".concat(T,"/home")),get:function(e){return fetch("".concat(T,"/").concat(e),{method:"GET",credentials:"include"})},post:function(e){return fetch(T,{method:"POST",headers:F,body:JSON.stringify(e)})},accept:function(e){return fetch("".concat(C,"/").concat(e),{method:"PUT",headers:F,credentials:"include"})},reject:function(e){return fetch("".concat(S,"/").concat(e),{method:"PUT",headers:F,credentials:"include"})},put:function(e,t){return fetch("".concat(T,"/").concat(e),{method:"PUT",headers:F,body:JSON.stringify(t),credentials:"include"})},delete:function(e){return fetch("".concat(T,"/").concat(e),{method:"DELETE",credentials:"include"})}},checkAuth:function(){return fetch(R,{method:"GET",credentials:"include"})},refreshToken:function(){return fetch(P,{method:"POST",credentials:"include"})}};function D(){return i.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center",className:"mb-5"},"Copyright \xa9 ",i.a.createElement(E.a,{color:"inherit",href:"#"},"Medusa Records")," ",(new Date).getFullYear(),".")}var _=Object(w.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),borderRadius:0},textField:Object(h.a)({},"& fieldset",{borderRadius:0})}})),M=Object(m.f)((function(){var e=_(),t=Object(c.useState)({username:"",password:""}),a=Object(f.a)(t,2),n=a[0],l=a[1],o=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.checkAuth();case 2:204===e.sent.status&&(window.location.pathname=ht.private.submissions.selectList);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){o()}),[]);var u=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L.login(n);case 3:200===e.sent.status&&(window.location.pathname=ht.private.submissions.selectList);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(j.a,{component:"main",maxWidth:"xs",className:"my-auto"},i.a.createElement("img",{className:"image-bg",alt:"login wallpaper",src:"/assets/login-bg.jpg",style:{top:"0",left:"0",opacity:"0.5"}}),i.a.createElement(v.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement("img",{className:"img-fluid",alt:"...",src:"/assets/medusa-original.png",style:{width:"50%",overflow:"hidden"}}),i.a.createElement(x.a,{component:"h1",variant:"h5"},i.a.createElement(k.a,null)," Staff only ",i.a.createElement(k.a,null)),i.a.createElement("span",null,"Keep out."),i.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){return n.username.length>0&&n.password.length>0&&u(e)}},i.a.createElement(b.a,{InputLabelProps:{required:!1},variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:function(e){return l({username:e.currentTarget.value,password:n.password})},value:n.username,autoFocus:!0}),i.a.createElement(b.a,{InputLabelProps:{required:!1},variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l({username:n.username,password:e.currentTarget.value})},value:n.password}),i.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"))),i.a.createElement(y.a,{mt:8},i.a.createElement(D,null)))})),B=a(30),A=a(29),U=a(27),H=a(231),W=a(232),I=a(233),q=a(234),V=a(33),G=a.n(V),J=a(13),K=a(134),z=a(105),X=(a(171),["Medusa","Records"]),Y={mass:10,tension:1e3,friction:200};function $(e){var t=Object(z.b)(X.length,{config:Y,opacity:1,x:0,height:80,from:{opacity:0,x:20,height:0}});return i.a.createElement("div",{id:"medusa-header"},i.a.createElement("div",{className:"trails-main"},i.a.createElement("div",null,t.map((function(e,t){e.x;var a=e.height,n=Object(K.a)(e,["x","height"]);return i.a.createElement(z.a.div,{key:X[t],className:"trails-text",style:Object(J.a)({},n)},i.a.createElement(z.a.div,{style:{height:a}},X[t]))})))))}a(172);var Q,Z=function(e){Object(A.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={releases:[]},e.componentDidMount=function(){e.getReleases()},e.getReleases=Object(s.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.releases.home;case 2:if(200!==(a=t.sent).status){t.next=9;break}return t.next=6,a.json();case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=[];case 10:n=t.t0,e.setState({releases:n});case 12:case"end":return t.stop()}}),t)}))),e}return Object(B.a)(a,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,{container:!0,id:"home"},i.a.createElement(W.a,{position:"fixed",className:"bg-transparent text-white-50"},i.a.createElement(I.a,{style:{background:"rgba(18,18,18,0.8)"}},i.a.createElement("img",{src:"/assets/medusa-original.png",style:{height:"5.5vh",paddingTop:"5px"},alt:"medusa-logo"}),i.a.createElement(d.b,{to:ht.public.submit,className:"ml-auto"},i.a.createElement(g.a,{color:"inherit"},"Submit Your Release")),i.a.createElement(d.b,{to:ht.public.login},i.a.createElement(g.a,{color:"inherit"},"Staff Login")))),i.a.createElement(H.a,{item:!0,xs:10,className:"mx-auto d-flex flex-column"},i.a.createElement(H.a,{item:!0,xs:12,md:5,className:"d-flex flex-column justify-content-center mx-auto",style:{minHeight:"100vh"}},i.a.createElement("div",{className:"bg-circle"}),i.a.createElement("img",{className:"w-50 img-fluid mx-auto blurring",src:"/assets/medusa-original.png",alt:"medusa-logo"}),i.a.createElement($,null),i.a.createElement(x.a,{component:"h5",variant:"h5",className:"mt-5 ml-auto",style:{fontWeight:800,fontFamily:"Circular"}},i.a.createElement(q.a,null),"See our releases.")),i.a.createElement(H.a,{container:!0,className:"mb-5"},this.state.releases.length>0&&this.state.releases.map((function(e){return i.a.createElement(H.a,{item:!0,xs:12,md:4,key:G()()},i.a.createElement("a",{href:e.fanLink},i.a.createElement("img",{className:"img-fluid px-1 px-md-3 my-3",src:e.coverURL,alt:e.title})))}))),i.a.createElement(D,null))))}}]),a}(i.a.Component),ee={firstName:"",lastName:"",email:"",mainArtists:[],featurings:[],title:"",date:new Date,audioURL:""};!function(e){e.beats="Beats",e.chill_LoFi="Chill/Lo Fi",e.dance_EDM="Dance/EDM",e.darkpsy_hitech="Darkpsy/Hitech",e.deepHouse="Deep House",e.dnB_Neurofunk="DnB/Neurofunk",e.dubstep="Dubstep",e.electronic_downtempo="Electronic/Downtempo",e.electroHouse="Electro House",e.futureHouse="Future House",e.house="House",e.orchestral="Orchestral",e.hardcore_rawstyle="Hardcore/Rawstyle",e.progressiveTrance="Progressive Trance",e.psytrance="Psytrance",e.rap_hipHop="Rap/Hip Hop",e.reggae_dancehall="Reggae/Dancehall",e.techno="Techno",e.techHouse="Tech House",e.trance="Trance",e.trap="Trap",e.other="Other"}(Q||(Q={}));var te=a(102),ae=a(227),ne=a(283),re=a(275),le=a(284),se=a(31),ce=a(273),ie=a(276);var oe=a(101),ue=Object(oe.a)({toast:{display:!1,severity:"error",message:""}});function me(){var e=Object(c.useState)(ue.shared.toast.value),t=Object(f.a)(e,2),a=t[0],n=t[1];return{getToast:function(){return a},setToast:function(e){ue.shared.toast.value=e,ue.dispatchToChildren(),n(e)}}}var de=a(235);function pe(){return i.a.createElement("div",{className:"position-absolute d-flex",style:{top:"0",left:"0",height:"100vh",width:"100vw",backgroundColor:"rgba(29,29,29,0.5)"}},i.a.createElement("div",{className:"m-auto d-flex flex-column align-items-center"},i.a.createElement("img",{className:"img-fluid w-50 mb-5",src:"/assets/medusa-original.png",alt:"..."}),i.a.createElement(de.a,{style:{color:jt.palette.primary.dark}})))}var fe=Object(w.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),borderRadius:0},textField:Object(h.a)({},"& fieldset",{borderRadius:0})}}));var he,ge=a(255),ve=a(256),be=a(257),Ee=a(258),ye=a(259),xe=a(260),we=a(254),je=a(261),Ne=a(262),ke=(a(173),a(237)),Oe=a(238),Te=a(239),Ce=a(240),Se=a(241),Re=a(242),Pe=a(243),Fe=a(244),Le=a(245),De=a(246),_e=Object(oe.a)({nowPlaying:null,playlist:[],paused:!0,currentTime:0,duration:0}),Me=function(e){Object(A.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).currentTime=e.hardBind(_e.shared.currentTime),e.duration=e.hardBind(_e.shared.duration),e.seek=function(t){e.props.didSeek(t.nativeEvent.offsetX,t.currentTarget.offsetWidth)},e.getTimeString=function(e){var t=Math.floor(e/60),a=Math.round(e-60*t);return"".concat(t,":").concat(a>=10?a:"0"+a)},e}return Object(B.a)(a,[{key:"render",value:function(){var e=[this.props.active,this.currentTime.value,this.duration.value],t=e[0],a=e[1],n=e[2];return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{id:"track-current-time"},t&&this.getTimeString(a)),i.a.createElement("span",{id:"seek-obj-container",className:"pb-1"},i.a.createElement("progress",{id:"progress-bar",className:"d-none d-md-inline-block",value:t&&n>0?a/n:0,onClick:this.seek,max:"1"})),i.a.createElement("small",{style:{float:"left",position:"relative",left:"15px"},id:"start-time"}),i.a.createElement("small",{style:{float:"right",position:"relative",right:"20px"},id:"end-time"}),i.a.createElement("span",{id:"track-duration"},t&&this.getTimeString(n)))}}]),a}(_e),Be=function(e){Object(A.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).audioPlayer=void 0,n.state=Object(J.a)(Object(J.a)({},n.state),{},{shuffling:!1,cycling:!1,muted:!1,volume:100}),n.nowPlaying=n.hardBind(_e.shared.nowPlaying),n.playlist=n.hardBind(_e.shared.playlist),n.paused=n.hardBind(_e.shared.paused),n.currentTime=n.softBind(_e.shared.currentTime),n.duration=n.softBind(_e.shared.duration),n.componentDidUpdate=function(){var e=n.audioPlayer.current;n.paused.value?e.pause():e.play()},n.didToggleShuffle=function(){return n.setState({shuffling:!n.state.shuffling})},n.didToggleCycle=function(){return n.setState({cycling:!n.state.cycling})},n.didToggleMute=function(){n.setState({muted:!n.state.muted},(function(){n.audioPlayer.current.volume=n.state.muted?0:n.state.volume/100}))},n.didSeek=function(e,t){if(null!==n.nowPlaying.value){var a=n.audioPlayer.current;a&&(console.table({offsetX:e,width:t}),a.currentTime=e/t*a.duration,n.currentTime.value=a.currentTime)}},n.tweakVolume=function(e){var t=e.currentTarget;n.setState({muted:!1,volume:parseInt(t.value)},(function(){return n.audioPlayer.current.volume=n.state.volume/100})),console.log("Volume is: "+t.value)},n.reward=function(){null!==n.nowPlaying.value&&(n.currentTime.value>2?n.audioPlayer.current.currentTime=0:n.state.shuffling?n.nowPlaying.value=n.getRandomIx():0===n.nowPlaying.value&&(n.nowPlaying.value=n.state.cycling?n.playlist.value.length-1:null))},n.forward=function(){null!==n.nowPlaying.value&&(n.state.shuffling?n.nowPlaying.value=n.getRandomIx():n.nowPlaying.value===n.playlist.value.length-1?n.nowPlaying.value=n.state.cycling?0:null:n.nowPlaying.value++)},n.getRandomIx=function(){return Math.floor(Math.random()*Math.floor(n.playlist.value.length))},n.audioPlayer=i.a.createRef(),n}return Object(B.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.cycling,n=t.muted,r=t.shuffling,l=n?0:this.state.volume,s=this.paused.value,c=null!==this.nowPlaying.value?this.playlist.value[this.nowPlaying.value]:null,o="accepted"===this.props.status?"var(--success)":"rejected"===this.props.status?"var(--danger)":"var(--theme-tint)";return i.a.createElement(W.a,{style:{position:"relative"},className:"bg-transparent"},i.a.createElement(I.a,{className:"bg-transparent text-white px-0 neon-glow",id:"player-footer-".concat(this.props.status)},i.a.createElement("audio",{src:null===c||void 0===c?void 0:c.audioURL,ref:this.audioPlayer,onTimeUpdate:function(t){var a=t.currentTarget;return e.currentTime.value=a.currentTime},onLoadedData:function(t){var a=t.currentTarget;return e.duration.value=a.duration},onEnded:this.forward}),c?i.a.createElement("div",{id:"title-display",className:"ml-3 my-1 text-white",style:{width:"auto"}},i.a.createElement("h5",{id:"track-title"},c.title),i.a.createElement("span",{id:"track-artist"},"".concat(c.mainArtists.join(", ")).concat(c.featurings.length>0?" feat. ".concat(c.featurings.join(", ")):""))):i.a.createElement("div",{id:"m-title-space"}),i.a.createElement("div",{id:"player-controls-wrapper",className:"d-flex flex-column mx-auto pt-1"},i.a.createElement("div",{id:"player-controls",className:"d-flex justify-content-around align-items-center mx-auto"},i.a.createElement("label",{className:"form-check-label d-flex align-items-center ".concat(r?"control-toggled":"")},i.a.createElement("input",{onChange:this.didToggleShuffle,type:"checkbox",className:"form-check-input d-none",name:"",id:"shuffle-toggle",checked:r}),i.a.createElement(ke.a,null)),i.a.createElement(Oe.a,{onClick:this.reward}),s?i.a.createElement(Te.a,{onClick:function(){return e.paused.value=!1}}):i.a.createElement(Ce.a,{onClick:function(){return e.paused.value=!0}}),i.a.createElement(Se.a,{onClick:this.forward}),i.a.createElement("label",{className:"form-check-label d-flex align-items-center ".concat(a?"control-toggled":"")},i.a.createElement("input",{onChange:this.didToggleCycle,type:"checkbox",className:"form-check-input d-none",name:"",id:"cycle-toggle",checked:a}),i.a.createElement(Re.a,null))),i.a.createElement("div",{className:"d-flex justify-content-center align-items-center text-center"},i.a.createElement(Me,{didSeek:this.didSeek,active:null!==this.nowPlaying.value}))),i.a.createElement("div",{className:"mr-3 position-absolute d-none d-md-flex text-white align-items-center",style:{right:"15px"}},n?i.a.createElement(Pe.a,{onClick:this.didToggleMute}):l>50?i.a.createElement(Fe.a,{onClick:this.didToggleMute}):l>10?i.a.createElement(Le.a,{onClick:this.didToggleMute}):i.a.createElement(De.a,{onClick:this.didToggleMute}),i.a.createElement("input",{type:"range",id:"volume-bar",name:"volume",className:"ml-3",min:"0",max:"100",value:l,onChange:this.tweakVolume,style:{maxWidth:"90px",background:"linear-gradient(to right, ".concat(o," 0%, ").concat(o," ").concat(l,"%, #fff ").concat(l,"%, #fff 100%)")}}))))}}]),a}(_e),Ae=a(279),Ue=a(277),He=a(247),We=a(248),Ie=a(249),qe=a(84),Ve=a.n(qe),Ge={display:!0,severity:"error",message:"Something went wrong. Try again later."};!function(e){e[e.rejected=0]="rejected",e[e.pending=1]="pending",e[e.accepted=2]="accepted"}(he||(he={}));var Je=Ve.a["release-row-controls"];function Ke(e){var t=e.status,a=e.controlsProps;switch(t){case"rejected":return i.a.createElement(ze,a);case"pending":return i.a.createElement(Xe,a);case"accepted":return i.a.createElement(Ye,a)}}function ze(e){var t=e.release,a=e.refresh,n=me().setToast,l=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.releases.delete(t);case 2:202===e.sent.status?(n({message:"Release removed.",display:!0,severity:"success"}),a()):n(Ge);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.releases.put(t,{status:he.pending});case 2:204===e.sent.status&&(n({display:!0,message:"Release back to pending.",severity:"success"}),a());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:Je},i.a.createElement(Ae.a,{variant:"outline-warning",className:"mr-2 rounded-pill px-2",onClick:function(){return c(t._id)}},i.a.createElement(He.a,{className:"mr-md-2"}),i.a.createElement("span",{className:"d-none d-md-inline"},"Restore as pending")),i.a.createElement(Ae.a,{variant:"outline-danger",className:"rounded-pill px-2",onClick:function(){return l(t._id)}},i.a.createElement(We.a,{className:"mr-md-2"}),i.a.createElement("span",{className:"d-none d-md-inline"},"Reject now")))}function Xe(e){var t=e.release,a=e.refresh,n=me().setToast,l=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.releases.accept(t);case 2:204===e.sent.status?(n({display:!0,message:"Release accepted",severity:"success"}),a()):n(Ge);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.releases.reject(t);case 2:204===e.sent.status?(n({display:!0,message:"Release rejected",severity:"success"}),a()):n(Ge);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:Je},i.a.createElement(Ae.a,{variant:"outline-success",className:"mr-2 rounded-pill",onClick:function(){return l(t._id)}},i.a.createElement(Ie.a,null)),i.a.createElement(Ae.a,{variant:"outline-danger",className:"rounded-pill",onClick:function(){return c(t._id)}},i.a.createElement(We.a,null)))}function Ye(e){var t=e.release,a=Object(c.useState)(t.displayOnHome),n=Object(f.a)(a,2),l=n[0],o=n[1],u=me().setToast,m=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.releases.put(t._id,{displayOnHome:!l});case 2:204===e.sent.status?o(!l):u(Ge);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"d-flex w-100 h-100"},i.a.createElement(Ue.a,{type:"switch",id:G()(),label:"",className:"m-auto",onChange:m,checked:l}))}var $e=a(272),Qe=a(251),Ze=a(252),et=a(250),tt=a(253);function at(e){var t=e.release,a=e.display,n=e.close,l=Object(c.useState)(new Date),o=Object(f.a)(l,2),u=o[0],m=o[1],d=Object(c.useState)(""),p=Object(f.a)(d,2),h=p[0],g=p[1],v=me().setToast;if(Object(c.useEffect)((function(){t&&(m(Object(et.a)(String(t.date))),g(t.fanLink||""))}),[t]),!t)return i.a.createElement(i.a.Fragment,null);var E=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u===t.date&&h===t.fanLink){e.next=5;break}return e.next=3,L.releases.put(t._id,{date:u,fanLink:h});case 3:204!==e.sent.status?v(Ge):n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement($e.a,{show:a,onHide:n},i.a.createElement($e.a.Header,{closeButton:!0},i.a.createElement($e.a.Title,null,t.title)),i.a.createElement($e.a.Body,null,i.a.createElement(Qe.a,{variant:"dark",size:"sm",className:"bg-transparent"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:2,style:{borderTop:"0px"}},i.a.createElement("div",{className:"h-100 w-100 text-center"},i.a.createElement("a",{href:t.coverURL,target:"_blank",rel:"noopener noreferrer",download:!0},i.a.createElement("img",{className:"img-fluid w-50",src:t.coverURL,alt:t.title}))))),i.a.createElement("tr",null,i.a.createElement("td",null,"First Name:"),i.a.createElement("td",null,t.firstName)),i.a.createElement("tr",null,i.a.createElement("td",null,"Last Name:"),i.a.createElement("td",null,t.lastName)),i.a.createElement("tr",null,i.a.createElement("td",null,"Email:"),i.a.createElement("td",null,t.email)),i.a.createElement("tr",null,i.a.createElement("td",null,"Artists:"),i.a.createElement("td",null,t.mainArtists.map((function(e){return i.a.createElement(Ze.a,{variant:"secondary",className:"ml-1",key:G()()},e)})),t.featurings.length>0&&i.a.createElement(i.a.Fragment,null," feat. ",t.featurings.map((function(e){return i.a.createElement(Ze.a,{variant:"secondary",className:"ml-1",key:G()()},e)}))))),i.a.createElement("tr",null,i.a.createElement("td",null,"Date:"),i.a.createElement("td",null,t.status===he.accepted?i.a.createElement(se.a,{utils:te.a},i.a.createElement(ce.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",fullWidth:!0,inputVariant:"outlined",margin:"normal",id:"date-picker-inline",label:"Release Date",value:u,onChange:function(e){return m(e)},KeyboardButtonProps:{"aria-label":"change date"}})):i.a.createElement("span",null,("0"+u.getDate()).slice(-2),"/",("0"+u.getMonth()).slice(-2),"/",u.getFullYear()))),i.a.createElement("tr",null,i.a.createElement("td",null,"Genre:"),i.a.createElement("td",null,t.genre)),t.status===he.accepted&&i.a.createElement("tr",null,i.a.createElement("td",{colSpan:2},i.a.createElement(b.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"fanlink",label:"Fanlink",id:"fanlink",autoComplete:"fanlink",onChange:function(e){var t=e.currentTarget;return g(t.value)},value:h})))))),i.a.createElement($e.a.Footer,null,i.a.createElement("a",{className:"mr-auto",href:t.audioURL,download:!0,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(Ae.a,{variant:"outline-light"},i.a.createElement(tt.a,null)," Download")),i.a.createElement(Ae.a,{variant:"secondary",onClick:n},"Close"),i.a.createElement(Ae.a,{variant:"primary",onClick:E},"Save Changes")))}var nt=function(e){Object(A.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state=Object(J.a)(Object(J.a)({},e.state),{},{status:String(e.props.history.location.pathname).split("/").pop(),displayModal:!1}),e.releases=e.hardBind(_e.shared.playlist),e.nowPlaying=e.softBind(_e.shared.nowPlaying),e.paused=e.softBind(_e.shared.paused),e.componentDidMount=function(){return e.getReleases()},e.componentDidUpdate=function(){return e.getReleases()},e.getReleases=Object(s.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.releases.get(e.state.status);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,e.releases.value=n,console.log(e.releases.value);case 8:case"end":return t.stop()}}),t)}))),e.play=function(t){e.nowPlaying.value=t,e.paused.value=!1},e.showModal=function(t){var a;null===(a=document.querySelector("#root"))||void 0===a||a.classList.add("blurred"),e.setState({displayModal:!0,selectedRelease:t})},e.closeModal=function(){var t;null===(t=document.querySelector("#root"))||void 0===t||t.classList.remove("blurred"),e.setState({displayModal:!1})},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this,t=this.state.status,a=this.releases.value;return i.a.createElement(i.a.Fragment,null,i.a.createElement(at,{release:this.state.selectedRelease,close:this.closeModal,display:this.state.displayModal}),i.a.createElement(H.a,{container:!0,className:"flex-column no-scrollbar flex-nowrap",style:{maxHeight:"100vh",width:"100vw"}},i.a.createElement(H.a,{item:!0,xs:12,className:"d-flex position-relative",style:{flexBasis:"unset"}},i.a.createElement("div",{className:"ml-md-5 d-flex w-100 h-100 position-absolute"},i.a.createElement("div",{className:"mr-auto my-auto ml-3 ml-md-0"},i.a.createElement(d.b,{to:ht.private.submissions.selectList},i.a.createElement(we.a,{className:"mr-1"}),i.a.createElement("span",{className:"d-none d-md-inline"},"Back")))),i.a.createElement(x.a,{component:"h1",variant:"h5",className:"my-5 mx-auto",style:{fontWeight:800,fontFamily:"Circular"}},t[0].toUpperCase()+t.slice(1)+" releases.")),i.a.createElement(ge.a,{className:"bg-transparent px-md-5 mx-auto",style:{flexGrow:1,overflowX:"hidden"}},i.a.createElement(ve.a,{stickyHeader:!0},i.a.createElement(be.a,null,i.a.createElement(Ee.a,null,i.a.createElement(ye.a,{style:{opacity:"0.9"}}),i.a.createElement(ye.a,{className:"pl-0",style:{opacity:"0.9"}},"Title"),i.a.createElement(ye.a,{style:{opacity:"0.9"}},"Artists"),i.a.createElement(ye.a,null,"Info"),i.a.createElement(ye.a,{style:{opacity:"0.9",textAlign:"center"}},"accepted"===t&&"Display on Home"))),i.a.createElement(xe.a,null,a.length>0&&a.map((function(a,n){var r={status:t,controlsProps:{release:a,refresh:e.getReleases}};return i.a.createElement(Ee.a,{className:Ve.a["playlist-row"],key:G()()},i.a.createElement(ye.a,{style:{width:"15px"}},i.a.createElement(je.a,{className:Ve.a["play-icon"],onClick:function(){return e.play(n)}})),i.a.createElement(ye.a,null,a.title),i.a.createElement(ye.a,null,a.mainArtists.join(", ")),i.a.createElement(ye.a,null,i.a.createElement(Ne.a,{onClick:function(){return e.showModal(a)}})),i.a.createElement(ye.a,null,i.a.createElement(Ke,r)))}))))),i.a.createElement(Be,{status:t})))}}]),a}(_e),rt=a(86),lt=a.n(rt),st=a(263),ct=a(264),it=a(265);var ot=a(266),ut=a(267),mt=a(268),dt=a(269),pt=a(131),ft=a(132);var ht=function e(){Object(p.a)(this,e)};ht.public={home:"/",login:"/login",submit:"/submit"},ht.private={submissions:new function e(){Object(p.a)(this,e),this.selectList="/submissions",this.pending="".concat(this.selectList,"/pending"),this.accepted="".concat(this.selectList,"/accepted"),this.rejected="".concat(this.selectList,"/rejected")}};var gt=[{path:ht.public.home,component:Z,exact:!0},{path:ht.public.login,component:M,exact:!0},{path:ht.public.submit,component:function(){var e=fe(),t=Object(c.useState)(!1),a=Object(f.a)(t,2),n=a[0],l=a[1],o=Object(c.useState)(ee),u=Object(f.a)(o,2),m=u[0],d=u[1],p=Object(c.useState)(""),h=Object(f.a)(p,2),E=h[0],w=h[1],N=Object(c.useState)(""),k=Object(f.a)(N,2),O=k[0],T=k[1],C=Object(c.useState)(!1),S=Object(f.a)(C,2),R=S[0],P=S[1],F=me(),_=F.getToast,M=F.setToast,B=_(),A=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),e.next=4,L.releases.post(m);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s=n.message,l(!1),P(201===a.status),M({display:!0,message:s,severity:201===a.status?"success":"error"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(j.a,{component:"main",maxWidth:"sm",className:"my-auto"},n&&i.a.createElement(pe,null),i.a.createElement(v.a,null),i.a.createElement("img",{alt:"...",className:"image-bg submit-bg",style:{opacity:"0.1"},src:"/assets/submit-bg.jpg"}),i.a.createElement("div",{className:e.paper},i.a.createElement(x.a,{component:"h1",variant:"h2",className:"my-5",style:{fontWeight:800,fontFamily:"Circular"}},"Submit your track."),i.a.createElement("form",{className:e.form,onSubmit:A,onInvalid:function(e){M({display:!0,message:"Fill in all required fields and add a cover for your release.",severity:"error"})}},i.a.createElement(H.a,{container:!0,spacing:3},i.a.createElement(H.a,{item:!0,xs:12,sm:6,className:"py-0"},i.a.createElement(b.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"first-name",onChange:function(e){return d(Object(J.a)(Object(J.a)({},m),{},{firstName:e.currentTarget.value}))},value:m.firstName,autoFocus:!0})),i.a.createElement(H.a,{item:!0,xs:12,sm:6,className:"py-0"},i.a.createElement(b.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"lastName",label:"Last Name",id:"lastName",autoComplete:"last-name",onChange:function(e){return d(Object(J.a)(Object(J.a)({},m),{},{lastName:e.currentTarget.value}))},value:m.lastName})),i.a.createElement(H.a,{item:!0,xs:12,className:"py-0"},i.a.createElement(b.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"email",label:"E-mail",id:"email",autoComplete:"email",onChange:function(e){return d(Object(J.a)(Object(J.a)({},m),{},{email:e.currentTarget.value}))},value:m.email})),i.a.createElement(H.a,{item:!0,xs:12,className:"py-0"},i.a.createElement(ie.a,{multiple:!0,freeSolo:!0,options:[],value:m.mainArtists,inputValue:E,onChange:function(e,t){d(Object(J.a)(Object(J.a)({},m),{},{mainArtists:t}))},onInputChange:function(e,t){var a=t.split(",");if(a.length>1){var n=m.mainArtists.concat(a).map((function(e){return e.trim()})).filter(Boolean);d(Object(J.a)(Object(J.a)({},m),{},{mainArtists:n}))}else w(t)},renderInput:function(t){return i.a.createElement(b.a,Object.assign({},t,{InputLabelProps:{required:!0},variant:"outlined",fullWidth:!0,className:e.textField,margin:"normal",required:0===m.mainArtists.length,label:"Main Artists",placeholder:0===m.mainArtists.length?"(confirm with comma: , )":""}))}})),i.a.createElement(H.a,{item:!0,xs:12,className:"py-0"},i.a.createElement(ie.a,{multiple:!0,freeSolo:!0,options:[],value:m.featurings,inputValue:O,onChange:function(e,t){d(Object(J.a)(Object(J.a)({},m),{},{featurings:t}))},onInputChange:function(e,t){var a=t.split(",");if(a.length>1){var n=m.featurings.concat(a).map((function(e){return e.trim()})).filter(Boolean);d(Object(J.a)(Object(J.a)({},m),{},{featurings:n}))}else T(t)},renderInput:function(t){return i.a.createElement(b.a,Object.assign({},t,{variant:"outlined",fullWidth:!0,className:e.textField,margin:"normal",label:"Featurings",placeholder:0===m.featurings.length?"(confirm with comma: , )":""}))}})),i.a.createElement(H.a,{item:!0,xs:12,className:"py-0"},i.a.createElement(b.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"title",label:"Track Name",id:"title",autoComplete:"release-title",onChange:function(e){return d(Object(J.a)(Object(J.a)({},m),{},{title:e.currentTarget.value}))},value:m.title})),i.a.createElement(H.a,{item:!0,xs:12,className:"py-0"},i.a.createElement(se.a,{utils:te.a},i.a.createElement(ce.a,{disableToolbar:!0,className:e.textField,variant:"inline",format:"dd/MM/yyyy",fullWidth:!0,inputVariant:"outlined",margin:"normal",id:"date-picker-inline",label:"Release Date",value:m.date,onChange:function(e){return d(Object(J.a)(Object(J.a)({},m),{},{date:e}))},KeyboardButtonProps:{"aria-label":"change date"}}))),i.a.createElement(H.a,{item:!0,xs:12},i.a.createElement(ae.a,{variant:"outlined",className:e.textField,fullWidth:!0},i.a.createElement(ne.a,{id:"select-genre-label"},"Select a genre:"),i.a.createElement(re.a,{labelId:"select-genre-label",id:"select-genre",defaultValue:"",onChange:function(e){var t=e.target;d(Object(J.a)(Object(J.a)({},m),{},{genre:t.value}))}},Object.entries(Q).map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return i.a.createElement(le.a,{value:n,key:a},n)}))))),i.a.createElement(H.a,{item:!0,xs:12},i.a.createElement(ne.a,{id:"select-genre-label"},"Link to the track [Google Drive or Dropbox only, WAV 16 bit]:"),i.a.createElement(b.a,{variant:"outlined",className:e.textField+" mt-0",margin:"normal",required:!0,fullWidth:!0,name:"audioURL",label:"Audio URL",id:"audioURL",autoComplete:"audio-url",onFocus:function(e){e.preventDefault(),e.target.select()},onKeyDown:function(e){(e.ctrlKey||e.metaKey)&&"v"===e.key||("Backspace"===e.key||"Delete"===e.key?(e.target.value="",d(Object(J.a)(Object(J.a)({},m),{},{audioURL:""}))):e.preventDefault())},onChange:function(e){var t=e.currentTarget.value;if(e.currentTarget.select(),t.length>0)try{var a=function(e){var t=e.includes("drive.google.com"),a=e.includes("dropbox.com");if(t){var n=function(e){return e.match(/[-\w]{25,}/)}(e);if(n)return"https://drive.google.com/uc?id=".concat(n[0])}else if(a)return e.split("?")[0]+"?raw=1";throw new Error("Invalid URL: Google Drive or Dropbox are supported only. Also double-check the link to have public permissions.")}(t);d(Object(J.a)(Object(J.a)({},m),{},{audioURL:a}))}catch(n){d(Object(J.a)(Object(J.a)({},m),{},{audioURL:""})),M({display:!0,message:n.message,severity:"error"})}}}),m.audioURL.length>0&&i.a.createElement("div",{className:"d-flex justify-content-between px-3"},i.a.createElement("h5",{className:"my-auto"},"Preview:"),i.a.createElement("audio",{controls:!0},i.a.createElement("source",{src:m.audioURL,type:"audio/x-wav"})))),i.a.createElement(H.a,{item:!0,xs:12,className:"pt-0 d-flex flex-column"},i.a.createElement(ne.a,{id:"select-file-label"},"Upload cover image:"),i.a.createElement("input",{accept:"jpg, png",id:"outlined-button-file",type:"file",className:"no-dimensions",onClick:function(){console.log(B),B.display&&M(Object(J.a)(Object(J.a)({},B),{},{display:!1}))},onChange:function(e){var t=e.currentTarget,a=t.files[0];if(a)if(a.size>7340032)M({display:!0,message:"Max size allowed: 7 MB.",severity:"error"});else{var n=new FileReader;n.onload=function(e){var n,r=null===(n=a.name.split(".").pop())||void 0===n?void 0:n.toLowerCase();if(r&&["jpg","png"].includes(r)){var l=e.target.result,s=new Image;s.onload=function(){if(3e3!==s.naturalHeight||3e3!==s.naturalWidth)return M({display:!0,message:"Cover image must be exactly 3000x3000.",severity:"error"}),void(t.value="");d(Object(J.a)(Object(J.a)({},m),{},{coverBase64:l}))},s.src=l}else M({display:!0,message:"Unsupported file type!",severity:"error"})},n.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},n.readAsDataURL(a)}},required:!0}),i.a.createElement("label",{className:e.textField+" w-100 h-100 d-flex cursor-pointer file-picker",style:{border:"1px solid grey"},htmlFor:"outlined-button-file"},i.a.createElement("span",{className:"m-auto",style:{fontSize:"1rem"}},"Choose file"))),i.a.createElement(H.a,{item:!0,xs:12,className:"d-flex"},m.coverBase64&&i.a.createElement("img",{alt:"...",src:m.coverBase64,className:"w-75 mx-auto"})),i.a.createElement(H.a,{item:!0,xs:12},i.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:R},"Submit"))))),i.a.createElement(y.a,{mt:8},i.a.createElement(D,null)))},exact:!0},{path:ht.private.submissions.selectList,component:function(){var e=lt.a["selection-button"]+" ",t=Object(c.useState)(!1),a=Object(f.a)(t,2),n=a[0],l=a[1],o=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.checkAuth();case 2:t=e.sent,l(204===t.status);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){o()}),[]),i.a.createElement(i.a.Fragment,null,n?i.a.createElement(H.a,{container:!0},i.a.createElement("img",{alt:"...",className:"image-bg submit-bg",style:{opacity:"0.1"},src:"/assets/submit-bg.jpg"}),i.a.createElement(H.a,{item:!0,xs:12,className:"d-flex my-4 my-md-0"},i.a.createElement(x.a,{component:"h1",variant:"h2",className:"m-auto mobile-h2",style:{fontWeight:800,fontFamily:"Circular"}},"Submissions.")),i.a.createElement(H.a,{item:!0,xs:12,md:4,className:"d-flex"},i.a.createElement(d.b,{to:"/submissions/pending",className:"mx-auto mb-auto"},i.a.createElement(Ae.a,{variant:"outline-warning",className:e+lt.a.pending,style:{color:"yellow"}},i.a.createElement(st.a,null),i.a.createElement("br",null),"Pending"))),i.a.createElement(H.a,{item:!0,xs:12,md:4,className:"d-flex"},i.a.createElement(d.b,{to:"/submissions/accepted",className:"mx-auto mb-auto"},i.a.createElement(Ae.a,{variant:"outline-success",className:e+lt.a.accepted,style:{color:"lightgreen"}},i.a.createElement(ct.a,null),i.a.createElement("br",null),"Accepted"))),i.a.createElement(H.a,{item:!0,xs:12,md:4,className:"d-flex"},i.a.createElement(d.b,{to:"/submissions/rejected",className:"mx-auto mb-auto"},i.a.createElement(Ae.a,{variant:"outline-danger",className:e+lt.a.rejected,style:{color:"rgb(255, 162, 162)"}},i.a.createElement(it.a,null),i.a.createElement("br",null),"Rejected")))):i.a.createElement(pe,null))},exact:!0},{path:[ht.private.submissions.pending,ht.private.submissions.accepted,ht.private.submissions.rejected],component:nt,exact:!0},{component:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ot.a,null,i.a.createElement(ut.a,{className:"d-flex",style:{height:"100vh"}},i.a.createElement(mt.a,{xs:9,md:6,className:"m-auto d-flex"},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{xs:12,className:"d-flex"},i.a.createElement(dt.a,{fluid:!0,className:"mx-auto w-50",src:"/assets/medusa-original.png",draggable:!1})),i.a.createElement(mt.a,{xs:12,className:"d-flex"},i.a.createElement("h3",{className:"mx-auto"},"404: Page not found")),i.a.createElement(mt.a,{xs:12,className:"d-flex"},i.a.createElement(d.b,{className:"mx-auto",to:ht.public.home},i.a.createElement(pt.a,{icon:ft.a})," Back to home")))))))}}],vt=(a(179),a(271)),bt=a(133),Et=a(270),yt=a(278),xt=a(280),wt=function(e){Object(A.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).toast=e.hardBind(ue.shared.toast),e.closeToast=function(t,a){"clickaway"!==a&&(e.toast.value=Object(J.a)(Object(J.a)({},e.toast.value),{},{display:!1}))},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this.toast.value,t=e.display,a=e.severity,n=e.message;return i.a.createElement(xt.a,{open:t,autoHideDuration:6e3,onClose:this.closeToast},i.a.createElement(yt.a,{elevation:6,variant:"filled",onClose:this.closeToast,severity:a},String(n)))}}]),a}(ue),jt=Object(bt.a)({palette:{type:"dark",primary:Et.a},typography:{fontFamily:["Circular","Barlow","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}});function Nt(){var e=i.a.createElement(vt.a,{theme:jt},i.a.createElement(wt,null),i.a.createElement(m.c,null,gt.map((function(e){return i.a.createElement(m.a,Object.assign({key:G()()},e))}))));return i.a.createElement(d.a,{basename:"/"},e)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kt=window.fetch;window.fetch=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.apply(void 0,Object(l.a)(t));case 2:if(403!==(a=e.sent).status){e.next=11;break}return e.next=6,L.refreshToken();case 6:if(222!==(a=e.sent).status){e.next=11;break}return e.next=10,kt.apply(void 0,Object(l.a)(t));case 10:a=e.sent;case 11:return 401===a.status&&window.location.pathname!==ht.public.login&&(window.location.pathname=ht.public.login),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)},u.a.render(i.a.createElement(Nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports={"play-icon":"submissions_play-icon__1_pBj","release-row-controls":"submissions_release-row-controls__2X1k7","playlist-row":"submissions_playlist-row__vH8oX"}},86:function(e,t,a){e.exports={"selection-button":"Selection_selection-button__xJMzN",pending:"Selection_pending__3siYy",accepted:"Selection_accepted__3cq8f",rejected:"Selection_rejected__2HrUs"}}},[[157,1,2]]]);
//# sourceMappingURL=main.2347ec74.chunk.js.map