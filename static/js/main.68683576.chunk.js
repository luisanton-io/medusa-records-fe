(this["webpackJsonpmedusa-records-fe"]=this["webpackJsonpmedusa-records-fe"]||[]).push([[0],{156:function(e,a,t){e.exports=t(179)},162:function(e,a,t){},170:function(e,a,t){},171:function(e,a,t){},172:function(e,a,t){},178:function(e,a,t){},179:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),s=t.n(l),c=(t(161),t(162),t(23)),i=t(33),o=t(22),u=t(18),m=t.n(u),d=t(26),p=t(28),f=t(40),g=t(229),h=t(223),v=t(280),b=t(220),E=t(273),y=t(180),x=t(221),j=t(222),w=t(110),N=t.n(w),k="https://medusa-records-be.herokuapp.com/login",O="https://medusa-records-be.herokuapp.com/releases",T="https://medusa-records-be.herokuapp.com/releases/accept",C="https://medusa-records-be.herokuapp.com/releases/reject",S="https://medusa-records-be.herokuapp.com/checkAuth",R="https://medusa-records-be.herokuapp.com/login/refreshToken",P=new Headers({"Content-Type":"application/json"}),F={login:function(e){return fetch(k,{method:"POST",headers:P,body:JSON.stringify({credentials:e}),credentials:"include"})},releases:{home:fetch("".concat(O,"/home")),get:function(e){return fetch("".concat(O,"/").concat(e),{method:"GET",credentials:"include"})},post:function(e){return fetch(O,{method:"POST",headers:P,body:JSON.stringify(e)})},accept:function(e){return fetch("".concat(T,"/").concat(e),{method:"PUT",headers:P,credentials:"include"})},reject:function(e){return fetch("".concat(C,"/").concat(e),{method:"PUT",headers:P,credentials:"include"})},put:function(e,a){return fetch("".concat(O,"/").concat(e),{method:"PUT",headers:P,body:JSON.stringify(a),credentials:"include"})},delete:function(e){return fetch("".concat(O,"/").concat(e),{method:"DELETE",credentials:"include"})}},checkAuth:function(){return fetch(S,{method:"GET",credentials:"include"})},refreshToken:function(){return fetch(R,{method:"POST",credentials:"include"})}};function L(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center",className:"mb-5"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"#"},"Medusa Records")," ",(new Date).getFullYear(),".")}var D=Object(x.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),borderRadius:0},textField:Object(f.a)({},"& fieldset",{borderRadius:0})}})),_=Object(c.h)((function(){var e=D(),a=Object(c.f)(),t=Object(n.useState)({username:"",password:""}),l=Object(p.a)(t,2),s=l[0],i=l[1],o=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.checkAuth();case 2:204===e.sent.status&&a.push(fa.private.submissions.selectList);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){o()}));var u=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,F.login(s);case 3:200===e.sent.status&&a.push(fa.private.submissions.selectList);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(j.a,{component:"main",maxWidth:"xs",className:"my-auto"},r.a.createElement("img",{className:"image-bg",alt:"login wallpaper",src:"/assets/login-bg.jpg",style:{top:"0",left:"0",opacity:"0.5"}}),r.a.createElement(h.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("img",{className:"img-fluid",alt:"...",src:"/assets/medusa-original.png",style:{width:"50%",overflow:"hidden"}}),r.a.createElement(y.a,{component:"h1",variant:"h5"},r.a.createElement(N.a,null)," Staff only ",r.a.createElement(N.a,null)),r.a.createElement("span",null,"Keep out."),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){return s.username.length>0&&s.password.length>0&&u(e)}},r.a.createElement(v.a,{InputLabelProps:{required:!1},variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:function(e){return i({username:e.currentTarget.value,password:s.password})},value:s.username,autoFocus:!0}),r.a.createElement(v.a,{InputLabelProps:{required:!1},variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return i({username:s.username,password:e.currentTarget.value})},value:s.password}),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"))),r.a.createElement(E.a,{mt:8},r.a.createElement(L,null)))})),M=t(30),B=t(29),U=t(27),A=t(230),H=t(231),W=t(232),I=t(233),q=t(31),V=t.n(q),G=t(13),J=t(133),K=t(104),z=(t(170),["Medusa","Records"]),X={mass:10,tension:1e3,friction:200};function Y(e){var a=Object(K.b)(z.length,{config:X,opacity:1,x:0,height:80,from:{opacity:0,x:20,height:0}});return r.a.createElement("div",{id:"medusa-header"},r.a.createElement("div",{className:"trails-main"},r.a.createElement("div",null,a.map((function(e,a){e.x;var t=e.height,n=Object(J.a)(e,["x","height"]);return r.a.createElement(K.a.div,{key:z[a],className:"trails-text",style:Object(G.a)({},n)},r.a.createElement(K.a.div,{style:{height:t}},z[a]))})))))}t(171);var $,Q=function(e){Object(B.a)(t,e);var a=Object(U.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={releases:[]},e.componentDidMount=function(){e.getReleases()},e.getReleases=Object(d.a)(m.a.mark((function a(){var t,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.releases.home;case 2:if(200!==(t=a.sent).status){a.next=9;break}return a.next=6,t.json();case 6:a.t0=a.sent,a.next=10;break;case 9:a.t0=[];case 10:n=a.t0,e.setState({releases:n});case 12:case"end":return a.stop()}}),a)}))),e}return Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{container:!0,id:"home"},r.a.createElement(H.a,{position:"fixed",className:"bg-transparent text-white-50"},r.a.createElement(W.a,{style:{background:"rgba(18,18,18,0.8)"}},r.a.createElement("img",{src:"/assets/medusa-original.png",style:{height:"5.5vh",paddingTop:"5px"},alt:"medusa-logo"}),r.a.createElement(i.b,{to:fa.public.submit,className:"ml-auto"},r.a.createElement(g.a,{color:"inherit"},"Submit Your Release")),r.a.createElement(i.b,{to:fa.public.login},r.a.createElement(g.a,{color:"inherit"},"Staff Login")))),r.a.createElement(A.a,{item:!0,xs:10,className:"mx-auto d-flex flex-column"},r.a.createElement(A.a,{item:!0,xs:12,md:5,className:"d-flex flex-column justify-content-center mx-auto",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"bg-circle"}),r.a.createElement("img",{className:"w-50 img-fluid mx-auto blurring",src:"/assets/medusa-original.png",alt:"medusa-logo"}),r.a.createElement(Y,null),r.a.createElement(y.a,{component:"h5",variant:"h5",className:"mt-5 ml-auto",style:{fontWeight:800,fontFamily:"Circular"}},r.a.createElement(I.a,null),"See our releases.")),r.a.createElement(A.a,{container:!0,className:"mb-5"},this.state.releases.length>0&&this.state.releases.map((function(e){return r.a.createElement(A.a,{item:!0,xs:12,md:4,key:V()()},r.a.createElement("a",{href:e.fanLink},r.a.createElement("img",{className:"img-fluid px-1 px-md-3 my-3",src:e.coverURL,alt:e.title})))}))),r.a.createElement(L,null))))}}]),t}(r.a.Component),Z={firstName:"",lastName:"",email:"",mainArtists:[],featurings:[],title:"",date:new Date,audioURL:""};!function(e){e.beats="Beats",e.chill_LoFi="Chill/Lo Fi",e.dance_EDM="Dance/EDM",e.darkpsy_hitech="Darkpsy/Hitech",e.deepHouse="Deep House",e.dnB_Neurofunk="DnB/Neurofunk",e.dubstep="Dubstep",e.electronic_downtempo="Electronic/Downtempo",e.electroHouse="Electro House",e.futureHouse="Future House",e.house="House",e.orchestral="Orchestral",e.hardcore_rawstyle="Hardcore/Rawstyle",e.progressiveTrance="Progressive Trance",e.psytrance="Psytrance",e.rap_hipHop="Rap/Hip Hop",e.reggae_dancehall="Reggae/Dancehall",e.techno="Techno",e.techHouse="Tech House",e.trance="Trance",e.trap="Trap",e.other="Other"}($||($={}));var ee=t(101),ae=t(226),te=t(282),ne=t(274),re=t(283),le=t(32),se=t(272),ce=t(275);var ie=t(100),oe=Object(ie.a)({toast:{display:!1,severity:"error",message:""}});function ue(){var e=Object(n.useState)(oe.shared.toast.value),a=Object(p.a)(e,2),t=a[0],r=a[1];return{getToast:function(){return t},setToast:function(e){oe.shared.toast.value=e,oe.dispatchToChildren(),r(e)}}}var me=t(234);function de(){return r.a.createElement("div",{className:"position-absolute d-flex",style:{top:"0",left:"0",height:"100vh",width:"100vw",backgroundColor:"rgba(29,29,29,0.5)"}},r.a.createElement("div",{className:"m-auto d-flex flex-column align-items-center"},r.a.createElement("img",{className:"img-fluid w-50 mb-5",src:"/assets/medusa-original.png",alt:"..."}),r.a.createElement(me.a,{style:{color:wa.palette.primary.dark}})))}var pe=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),borderRadius:0},textField:Object(f.a)({},"& fieldset",{borderRadius:0})}}));var fe,ge=t(254),he=t(255),ve=t(256),be=t(257),Ee=t(258),ye=t(259),xe=t(253),je=t(260),we=t(261),Ne=(t(172),t(236)),ke=t(237),Oe=t(238),Te=t(239),Ce=t(240),Se=t(241),Re=t(242),Pe=t(243),Fe=t(244),Le=t(245),De=Object(ie.a)({nowPlaying:null,playlist:[],paused:!0,currentTime:0,duration:0}),_e=function(e){Object(B.a)(t,e);var a=Object(U.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).currentTime=e.hardBind(De.shared.currentTime),e.duration=e.hardBind(De.shared.duration),e.seek=function(a){e.props.didSeek(a.nativeEvent.offsetX,a.currentTarget.offsetWidth)},e.getTimeString=function(e){var a=Math.floor(e/60),t=Math.round(e-60*a);return"".concat(a,":").concat(t>=10?t:"0"+t)},e}return Object(M.a)(t,[{key:"render",value:function(){var e=[this.props.active,this.currentTime.value,this.duration.value],a=e[0],t=e[1],n=e[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:"track-current-time"},a&&this.getTimeString(t)),r.a.createElement("span",{id:"seek-obj-container",className:"pb-1"},r.a.createElement("progress",{id:"progress-bar",className:"d-none d-md-inline-block",value:a&&n>0?t/n:0,onClick:this.seek,max:"1"})),r.a.createElement("small",{style:{float:"left",position:"relative",left:"15px"},id:"start-time"}),r.a.createElement("small",{style:{float:"right",position:"relative",right:"20px"},id:"end-time"}),r.a.createElement("span",{id:"track-duration"},a&&this.getTimeString(n)))}}]),t}(De),Me=function(e){Object(B.a)(t,e);var a=Object(U.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).audioPlayer=void 0,n.state=Object(G.a)(Object(G.a)({},n.state),{},{shuffling:!1,cycling:!1,muted:!1,volume:100}),n.nowPlaying=n.hardBind(De.shared.nowPlaying),n.playlist=n.hardBind(De.shared.playlist),n.paused=n.hardBind(De.shared.paused),n.currentTime=n.softBind(De.shared.currentTime),n.duration=n.softBind(De.shared.duration),n.componentDidUpdate=function(){var e=n.audioPlayer.current;n.paused.value?e.pause():e.play()},n.didToggleShuffle=function(){return n.setState({shuffling:!n.state.shuffling})},n.didToggleCycle=function(){return n.setState({cycling:!n.state.cycling})},n.didToggleMute=function(){n.setState({muted:!n.state.muted},(function(){n.audioPlayer.current.volume=n.state.muted?0:n.state.volume/100}))},n.didSeek=function(e,a){if(null!==n.nowPlaying.value){var t=n.audioPlayer.current;t&&(console.table({offsetX:e,width:a}),t.currentTime=e/a*t.duration,n.currentTime.value=t.currentTime)}},n.tweakVolume=function(e){var a=e.currentTarget;n.setState({muted:!1,volume:parseInt(a.value)},(function(){return n.audioPlayer.current.volume=n.state.volume/100})),console.log("Volume is: "+a.value)},n.reward=function(){null!==n.nowPlaying.value&&(n.currentTime.value>2?n.audioPlayer.current.currentTime=0:n.state.shuffling?n.nowPlaying.value=n.getRandomIx():0===n.nowPlaying.value&&(n.nowPlaying.value=n.state.cycling?n.playlist.value.length-1:null))},n.forward=function(){null!==n.nowPlaying.value&&(n.state.shuffling?n.nowPlaying.value=n.getRandomIx():n.nowPlaying.value===n.playlist.value.length-1?n.nowPlaying.value=n.state.cycling?0:null:n.nowPlaying.value++)},n.getRandomIx=function(){return Math.floor(Math.random()*Math.floor(n.playlist.value.length))},n.audioPlayer=r.a.createRef(),n}return Object(M.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.cycling,n=a.muted,l=a.shuffling,s=n?0:this.state.volume,c=this.paused.value,i=null!==this.nowPlaying.value?this.playlist.value[this.nowPlaying.value]:null,o="accepted"===this.props.status?"var(--success)":"rejected"===this.props.status?"var(--danger)":"var(--theme-tint)";return r.a.createElement(H.a,{style:{position:"relative"},className:"bg-transparent"},r.a.createElement(W.a,{className:"bg-transparent text-white px-0 neon-glow",id:"player-footer-".concat(this.props.status)},r.a.createElement("audio",{src:null===i||void 0===i?void 0:i.audioURL,ref:this.audioPlayer,onTimeUpdate:function(a){var t=a.currentTarget;return e.currentTime.value=t.currentTime},onLoadedData:function(a){var t=a.currentTarget;return e.duration.value=t.duration},onEnded:this.forward}),i?r.a.createElement("div",{id:"title-display",className:"ml-3 my-1 text-white",style:{width:"auto"}},r.a.createElement("h5",{id:"track-title"},i.title),r.a.createElement("span",{id:"track-artist"},"".concat(i.mainArtists.join(", ")).concat(i.featurings.length>0?" feat. ".concat(i.featurings.join(", ")):""))):r.a.createElement("div",{id:"m-title-space"}),r.a.createElement("div",{id:"player-controls-wrapper",className:"d-flex flex-column mx-auto pt-1"},r.a.createElement("div",{id:"player-controls",className:"d-flex justify-content-around align-items-center mx-auto"},r.a.createElement("label",{className:"form-check-label d-flex align-items-center ".concat(l?"control-toggled":"")},r.a.createElement("input",{onChange:this.didToggleShuffle,type:"checkbox",className:"form-check-input d-none",name:"",id:"shuffle-toggle",checked:l}),r.a.createElement(Ne.a,null)),r.a.createElement(ke.a,{onClick:this.reward}),c?r.a.createElement(Oe.a,{onClick:function(){return e.paused.value=!1}}):r.a.createElement(Te.a,{onClick:function(){return e.paused.value=!0}}),r.a.createElement(Ce.a,{onClick:this.forward}),r.a.createElement("label",{className:"form-check-label d-flex align-items-center ".concat(t?"control-toggled":"")},r.a.createElement("input",{onChange:this.didToggleCycle,type:"checkbox",className:"form-check-input d-none",name:"",id:"cycle-toggle",checked:t}),r.a.createElement(Se.a,null))),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center text-center"},r.a.createElement(_e,{didSeek:this.didSeek,active:null!==this.nowPlaying.value}))),r.a.createElement("div",{className:"mr-3 position-absolute d-none d-md-flex text-white align-items-center",style:{right:"15px"}},n?r.a.createElement(Re.a,{onClick:this.didToggleMute}):s>50?r.a.createElement(Pe.a,{onClick:this.didToggleMute}):s>10?r.a.createElement(Fe.a,{onClick:this.didToggleMute}):r.a.createElement(Le.a,{onClick:this.didToggleMute}),r.a.createElement("input",{type:"range",id:"volume-bar",name:"volume",className:"ml-3",min:"0",max:"100",value:s,onChange:this.tweakVolume,style:{maxWidth:"90px",background:"linear-gradient(to right, ".concat(o," 0%, ").concat(o," ").concat(s,"%, #fff ").concat(s,"%, #fff 100%)")}}))))}}]),t}(De),Be=t(279),Ue=t(277),Ae=t(246),He=t(247),We=t(248),Ie=t(83),qe=t.n(Ie),Ve={display:!0,severity:"error",message:"Something went wrong. Try again later."};!function(e){e[e.rejected=0]="rejected",e[e.pending=1]="pending",e[e.accepted=2]="accepted"}(fe||(fe={}));var Ge=qe.a["release-row-controls"];function Je(e){var a=e.status,t=e.controlsProps;switch(a){case"rejected":return r.a.createElement(Ke,t);case"pending":return r.a.createElement(ze,t);case"accepted":return r.a.createElement(Xe,t)}}function Ke(e){var a=e.release,t=e.refresh,n=ue().setToast,l=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.releases.delete(a);case 2:202===e.sent.status?(n({message:"Release removed.",display:!0,severity:"success"}),t()):n(Ve);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.releases.put(a,{status:fe.pending});case 2:204===e.sent.status&&(n({display:!0,message:"Release back to pending.",severity:"success"}),t());case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Ge},r.a.createElement(Be.a,{variant:"outline-warning",className:"mr-2 rounded-pill px-2",onClick:function(){return s(a._id)}},r.a.createElement(Ae.a,{className:"mr-md-2"}),r.a.createElement("span",{className:"d-none d-md-inline"},"Restore as pending")),r.a.createElement(Be.a,{variant:"outline-danger",className:"rounded-pill px-2",onClick:function(){return l(a._id)}},r.a.createElement(He.a,{className:"mr-md-2"}),r.a.createElement("span",{className:"d-none d-md-inline"},"Reject now")))}function ze(e){var a=e.release,t=e.refresh,n=ue().setToast,l=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.releases.accept(a);case 2:204===e.sent.status?(n({display:!0,message:"Release accepted",severity:"success"}),t()):n(Ve);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.releases.reject(a);case 2:204===e.sent.status?(n({display:!0,message:"Release rejected",severity:"success"}),t()):n(Ve);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Ge},r.a.createElement(Be.a,{variant:"outline-success",className:"mr-2 rounded-pill",onClick:function(){return l(a._id)}},r.a.createElement(We.a,null)),r.a.createElement(Be.a,{variant:"outline-danger",className:"rounded-pill",onClick:function(){return s(a._id)}},r.a.createElement(He.a,null)))}function Xe(e){var a=e.release,t=Object(n.useState)(a.displayOnHome),l=Object(p.a)(t,2),s=l[0],c=l[1],i=ue().setToast,o=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.releases.put(a._id,{displayOnHome:!s});case 2:204===e.sent.status?c(!s):i(Ve);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"d-flex w-100 h-100"},r.a.createElement(Ue.a,{type:"switch",id:V()(),label:"",className:"m-auto",onChange:o,checked:s}))}var Ye=t(271),$e=t(250),Qe=t(251),Ze=t(249),ea=t(252);function aa(e){var a=e.release,t=e.display,l=e.close,s=Object(n.useState)(new Date),c=Object(p.a)(s,2),i=c[0],o=c[1],u=Object(n.useState)(""),f=Object(p.a)(u,2),g=f[0],h=f[1],b=ue().setToast;if(Object(n.useEffect)((function(){a&&(o(Object(Ze.a)(String(a.date))),h(a.fanLink||""))}),[a]),!a)return r.a.createElement(r.a.Fragment,null);var E=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i===a.date&&g===a.fanLink){e.next=5;break}return e.next=3,F.releases.put(a._id,{date:i,fanLink:g});case 3:204!==e.sent.status?b(Ve):l();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ye.a,{show:t,onHide:l},r.a.createElement(Ye.a.Header,{closeButton:!0},r.a.createElement(Ye.a.Title,null,a.title)),r.a.createElement(Ye.a.Body,null,r.a.createElement($e.a,{variant:"dark",size:"sm",className:"bg-transparent"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{borderTop:"0px"}},r.a.createElement("div",{className:"h-100 w-100 text-center"},r.a.createElement("a",{href:a.coverURL,target:"_blank",rel:"noopener noreferrer",download:!0},r.a.createElement("img",{className:"img-fluid w-50",src:a.coverURL,alt:a.title}))))),r.a.createElement("tr",null,r.a.createElement("td",null,"First Name:"),r.a.createElement("td",null,a.firstName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Last Name:"),r.a.createElement("td",null,a.lastName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email:"),r.a.createElement("td",null,a.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Artists:"),r.a.createElement("td",null,a.mainArtists.map((function(e){return r.a.createElement(Qe.a,{variant:"secondary",className:"ml-1",key:V()()},e)})),a.featurings.length>0&&r.a.createElement(r.a.Fragment,null," feat. ",a.featurings.map((function(e){return r.a.createElement(Qe.a,{variant:"secondary",className:"ml-1",key:V()()},e)}))))),r.a.createElement("tr",null,r.a.createElement("td",null,"Date:"),r.a.createElement("td",null,a.status===fe.accepted?r.a.createElement(le.a,{utils:ee.a},r.a.createElement(se.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",fullWidth:!0,inputVariant:"outlined",margin:"normal",id:"date-picker-inline",label:"Release Date",value:i,onChange:function(e){return o(e)},KeyboardButtonProps:{"aria-label":"change date"}})):r.a.createElement("span",null,("0"+i.getDate()).slice(-2),"/",("0"+i.getMonth()).slice(-2),"/",i.getFullYear()))),r.a.createElement("tr",null,r.a.createElement("td",null,"Genre:"),r.a.createElement("td",null,a.genre)),a.status===fe.accepted&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},r.a.createElement(v.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"fanlink",label:"Fanlink",id:"fanlink",autoComplete:"fanlink",onChange:function(e){var a=e.currentTarget;return h(a.value)},value:g})))))),r.a.createElement(Ye.a.Footer,null,r.a.createElement("a",{className:"mr-auto",href:a.audioURL,download:!0,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Be.a,{variant:"outline-light"},r.a.createElement(ea.a,null)," Download")),r.a.createElement(Be.a,{variant:"secondary",onClick:l},"Close"),r.a.createElement(Be.a,{variant:"primary",onClick:E},"Save Changes")))}var ta=function(e){Object(B.a)(t,e);var a=Object(U.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state=Object(G.a)(Object(G.a)({},e.state),{},{status:String(e.props.history.location.pathname).split("/").pop(),displayModal:!1}),e.releases=e.hardBind(De.shared.playlist),e.nowPlaying=e.softBind(De.shared.nowPlaying),e.paused=e.softBind(De.shared.paused),e.componentDidMount=function(){return e.getReleases()},e.componentDidUpdate=function(){return e.getReleases()},e.getReleases=Object(d.a)(m.a.mark((function a(){var t,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.releases.get(e.state.status);case 2:return t=a.sent,a.next=5,t.json();case 5:n=a.sent,e.releases.value=n,console.log(e.releases.value);case 8:case"end":return a.stop()}}),a)}))),e.play=function(a){e.nowPlaying.value=a,e.paused.value=!1},e.showModal=function(a){var t;null===(t=document.querySelector("#root"))||void 0===t||t.classList.add("blurred"),e.setState({displayModal:!0,selectedRelease:a})},e.closeModal=function(){var a;null===(a=document.querySelector("#root"))||void 0===a||a.classList.remove("blurred"),e.setState({displayModal:!1})},e}return Object(M.a)(t,[{key:"render",value:function(){var e=this,a=this.state.status,t=this.releases.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{release:this.state.selectedRelease,close:this.closeModal,display:this.state.displayModal}),r.a.createElement(A.a,{container:!0,className:"flex-column no-scrollbar flex-nowrap",style:{maxHeight:"100vh",width:"100vw"}},r.a.createElement(A.a,{item:!0,xs:12,className:"d-flex position-relative",style:{flexBasis:"unset"}},r.a.createElement("div",{className:"ml-md-5 d-flex w-100 h-100 position-absolute"},r.a.createElement("div",{className:"mr-auto my-auto ml-3 ml-md-0"},r.a.createElement(i.b,{to:fa.private.submissions.selectList},r.a.createElement(xe.a,{className:"mr-1"}),r.a.createElement("span",{className:"d-none d-md-inline"},"Back")))),r.a.createElement(y.a,{component:"h1",variant:"h5",className:"my-5 mx-auto",style:{fontWeight:800,fontFamily:"Circular"}},a[0].toUpperCase()+a.slice(1)+" releases.")),r.a.createElement(ge.a,{className:"bg-transparent px-md-5 mx-auto",style:{flexGrow:1,overflowX:"hidden"}},r.a.createElement(he.a,{stickyHeader:!0},r.a.createElement(ve.a,null,r.a.createElement(be.a,null,r.a.createElement(Ee.a,{style:{opacity:"0.9"}}),r.a.createElement(Ee.a,{className:"pl-0",style:{opacity:"0.9"}},"Title"),r.a.createElement(Ee.a,{style:{opacity:"0.9"}},"Artists"),r.a.createElement(Ee.a,null,"Info"),r.a.createElement(Ee.a,{style:{opacity:"0.9",textAlign:"center"}},"accepted"===a&&"Display on Home"))),r.a.createElement(ye.a,null,t.length>0&&t.map((function(t,n){var l={status:a,controlsProps:{release:t,refresh:e.getReleases}};return r.a.createElement(be.a,{className:qe.a["playlist-row"],key:V()()},r.a.createElement(Ee.a,{style:{width:"15px"}},r.a.createElement(je.a,{className:qe.a["play-icon"],onClick:function(){return e.play(n)}})),r.a.createElement(Ee.a,null,t.title),r.a.createElement(Ee.a,null,t.mainArtists.join(", ")),r.a.createElement(Ee.a,null,r.a.createElement(we.a,{onClick:function(){return e.showModal(t)}})),r.a.createElement(Ee.a,null,r.a.createElement(Je,l)))}))))),r.a.createElement(Me,{status:a})))}}]),t}(De),na=t(85),ra=t.n(na),la=t(262),sa=t(263),ca=t(264);var ia=t(265),oa=t(266),ua=t(267),ma=t(268),da=t(130),pa=t(131);var fa=function e(){Object(o.a)(this,e)};fa.public={home:"/",login:"/login",submit:"/submit"},fa.private={submissions:new function e(){Object(o.a)(this,e),this.selectList="/submissions",this.pending="".concat(this.selectList,"/pending"),this.accepted="".concat(this.selectList,"/accepted"),this.rejected="".concat(this.selectList,"/rejected")}};var ga=[{path:fa.public.home,component:Q,exact:!0},{path:fa.public.login,component:_,exact:!0},{path:fa.public.submit,component:function(){var e=pe(),a=Object(n.useState)(!1),t=Object(p.a)(a,2),l=t[0],s=t[1],c=Object(n.useState)(Z),i=Object(p.a)(c,2),o=i[0],u=i[1],f=Object(n.useState)(""),b=Object(p.a)(f,2),x=b[0],w=b[1],N=Object(n.useState)(""),k=Object(p.a)(N,2),O=k[0],T=k[1],C=Object(n.useState)(!1),S=Object(p.a)(C,2),R=S[0],P=S[1],D=ue(),_=D.getToast,M=D.setToast,B=_(),U=function(){var e=Object(d.a)(m.a.mark((function e(a){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s(!0),e.next=4,F.releases.post(o);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=n.message,s(!1),P(201===t.status),M({display:!0,message:r,severity:201===t.status?"success":"error"});case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(j.a,{component:"main",maxWidth:"sm",className:"my-auto"},l&&r.a.createElement(de,null),r.a.createElement(h.a,null),r.a.createElement("img",{alt:"...",className:"image-bg submit-bg",style:{opacity:"0.1"},src:"/assets/submit-bg.jpg"}),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{component:"h1",variant:"h2",className:"my-5",style:{fontWeight:800,fontFamily:"Circular"}},"Submit your track."),r.a.createElement("form",{className:e.form,onSubmit:U,onInvalid:function(e){M({display:!0,message:"Fill in all required fields and add a cover for your release.",severity:"error"})}},r.a.createElement(A.a,{container:!0,spacing:3},r.a.createElement(A.a,{item:!0,xs:12,sm:6,className:"py-0"},r.a.createElement(v.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"first-name",onChange:function(e){return u(Object(G.a)(Object(G.a)({},o),{},{firstName:e.currentTarget.value}))},value:o.firstName,autoFocus:!0})),r.a.createElement(A.a,{item:!0,xs:12,sm:6,className:"py-0"},r.a.createElement(v.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"lastName",label:"Last Name",id:"lastName",autoComplete:"last-name",onChange:function(e){return u(Object(G.a)(Object(G.a)({},o),{},{lastName:e.currentTarget.value}))},value:o.lastName})),r.a.createElement(A.a,{item:!0,xs:12,className:"py-0"},r.a.createElement(v.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"email",label:"E-mail",id:"email",autoComplete:"email",onChange:function(e){return u(Object(G.a)(Object(G.a)({},o),{},{email:e.currentTarget.value}))},value:o.email})),r.a.createElement(A.a,{item:!0,xs:12,className:"py-0"},r.a.createElement(ce.a,{multiple:!0,freeSolo:!0,options:[],value:o.mainArtists,inputValue:x,onChange:function(e,a){u(Object(G.a)(Object(G.a)({},o),{},{mainArtists:a}))},onInputChange:function(e,a){var t=a.split(",");if(t.length>1){var n=o.mainArtists.concat(t).map((function(e){return e.trim()})).filter(Boolean);u(Object(G.a)(Object(G.a)({},o),{},{mainArtists:n}))}else w(a)},renderInput:function(a){return r.a.createElement(v.a,Object.assign({},a,{InputLabelProps:{required:!0},variant:"outlined",fullWidth:!0,className:e.textField,margin:"normal",required:0===o.mainArtists.length,label:"Main Artists",placeholder:0===o.mainArtists.length?"(confirm with comma: , )":""}))}})),r.a.createElement(A.a,{item:!0,xs:12,className:"py-0"},r.a.createElement(ce.a,{multiple:!0,freeSolo:!0,options:[],value:o.featurings,inputValue:O,onChange:function(e,a){u(Object(G.a)(Object(G.a)({},o),{},{featurings:a}))},onInputChange:function(e,a){var t=a.split(",");if(t.length>1){var n=o.featurings.concat(t).map((function(e){return e.trim()})).filter(Boolean);u(Object(G.a)(Object(G.a)({},o),{},{featurings:n}))}else T(a)},renderInput:function(a){return r.a.createElement(v.a,Object.assign({},a,{variant:"outlined",fullWidth:!0,className:e.textField,margin:"normal",label:"Featurings",placeholder:0===o.featurings.length?"(confirm with comma: , )":""}))}})),r.a.createElement(A.a,{item:!0,xs:12,className:"py-0"},r.a.createElement(v.a,{variant:"outlined",className:e.textField,margin:"normal",required:!0,fullWidth:!0,name:"title",label:"Track Name",id:"title",autoComplete:"release-title",onChange:function(e){return u(Object(G.a)(Object(G.a)({},o),{},{title:e.currentTarget.value}))},value:o.title})),r.a.createElement(A.a,{item:!0,xs:12,className:"py-0"},r.a.createElement(le.a,{utils:ee.a},r.a.createElement(se.a,{disableToolbar:!0,className:e.textField,variant:"inline",format:"dd/MM/yyyy",fullWidth:!0,inputVariant:"outlined",margin:"normal",id:"date-picker-inline",label:"Release Date",value:o.date,onChange:function(e){return u(Object(G.a)(Object(G.a)({},o),{},{date:e}))},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(ae.a,{variant:"outlined",className:e.textField,fullWidth:!0},r.a.createElement(te.a,{id:"select-genre-label"},"Select a genre:"),r.a.createElement(ne.a,{labelId:"select-genre-label",id:"select-genre",defaultValue:"",onChange:function(e){var a=e.target;u(Object(G.a)(Object(G.a)({},o),{},{genre:a.value}))}},Object.entries($).map((function(e){var a=Object(p.a)(e,2),t=a[0],n=a[1];return r.a.createElement(re.a,{value:n,key:t},n)}))))),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(te.a,{id:"select-genre-label"},"Link to the track [Google Drive or Dropbox only, WAV 16 bit]:"),r.a.createElement(v.a,{variant:"outlined",className:e.textField+" mt-0",margin:"normal",required:!0,fullWidth:!0,name:"audioURL",label:"Audio URL",id:"audioURL",autoComplete:"audio-url",onFocus:function(e){e.preventDefault(),e.target.select()},onKeyDown:function(e){(e.ctrlKey||e.metaKey)&&"v"===e.key||("Backspace"===e.key||"Delete"===e.key?(e.target.value="",u(Object(G.a)(Object(G.a)({},o),{},{audioURL:""}))):e.preventDefault())},onChange:function(e){var a=e.currentTarget.value;if(e.currentTarget.select(),a.length>0)try{var t=function(e){var a=e.includes("drive.google.com"),t=e.includes("dropbox.com");if(a){var n=function(e){return e.match(/[-\w]{25,}/)}(e);if(n)return"https://drive.google.com/uc?id=".concat(n[0])}else if(t)return e.split("?")[0]+"?raw=1";throw new Error("Invalid URL: Google Drive or Dropbox are supported only. Also double-check the link to have public permissions.")}(a);u(Object(G.a)(Object(G.a)({},o),{},{audioURL:t}))}catch(n){u(Object(G.a)(Object(G.a)({},o),{},{audioURL:""})),M({display:!0,message:n.message,severity:"error"})}}}),o.audioURL.length>0&&r.a.createElement("div",{className:"d-flex justify-content-between px-3"},r.a.createElement("h5",{className:"my-auto"},"Preview:"),r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:o.audioURL,type:"audio/x-wav"})))),r.a.createElement(A.a,{item:!0,xs:12,className:"pt-0 d-flex flex-column"},r.a.createElement(te.a,{id:"select-file-label"},"Upload cover image:"),r.a.createElement("input",{accept:"jpg, png",id:"outlined-button-file",type:"file",className:"no-dimensions",onClick:function(){console.log(B),B.display&&M(Object(G.a)(Object(G.a)({},B),{},{display:!1}))},onChange:function(e){var a=e.currentTarget,t=a.files[0];if(t)if(t.size>7340032)M({display:!0,message:"Max size allowed: 7 MB.",severity:"error"});else{var n=new FileReader;n.onload=function(e){var n,r=null===(n=t.name.split(".").pop())||void 0===n?void 0:n.toLowerCase();if(r&&["jpg","png"].includes(r)){var l=e.target.result,s=new Image;s.onload=function(){if(3e3!==s.naturalHeight||3e3!==s.naturalWidth)return M({display:!0,message:"Cover image must be exactly 3000x3000.",severity:"error"}),void(a.value="");u(Object(G.a)(Object(G.a)({},o),{},{coverBase64:l}))},s.src=l}else M({display:!0,message:"Unsupported file type!",severity:"error"})},n.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},n.readAsDataURL(t)}},required:!0}),r.a.createElement("label",{className:e.textField+" w-100 h-100 d-flex cursor-pointer file-picker",style:{border:"1px solid grey"},htmlFor:"outlined-button-file"},r.a.createElement("span",{className:"m-auto",style:{fontSize:"1rem"}},"Choose file"))),r.a.createElement(A.a,{item:!0,xs:12,className:"d-flex"},o.coverBase64&&r.a.createElement("img",{alt:"...",src:o.coverBase64,className:"w-75 mx-auto"})),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:R},"Submit"))))),r.a.createElement(E.a,{mt:8},r.a.createElement(L,null)))},exact:!0},{path:fa.private.submissions.selectList,component:function(){var e=ra.a["selection-button"]+" ";return r.a.createElement(A.a,{container:!0},r.a.createElement("img",{alt:"...",className:"image-bg submit-bg",style:{opacity:"0.1"},src:"/assets/submit-bg.jpg"}),r.a.createElement(A.a,{item:!0,xs:12,className:"d-flex my-4 my-md-0"},r.a.createElement(y.a,{component:"h1",variant:"h2",className:"m-auto mobile-h2",style:{fontWeight:800,fontFamily:"Circular"}},"Submissions.")),r.a.createElement(A.a,{item:!0,xs:12,md:4,className:"d-flex"},r.a.createElement(i.b,{to:"/submissions/pending",className:"mx-auto mb-auto"},r.a.createElement(Be.a,{variant:"outline-warning",className:e+ra.a.pending,style:{color:"yellow"}},r.a.createElement(la.a,null),r.a.createElement("br",null),"Pending"))),r.a.createElement(A.a,{item:!0,xs:12,md:4,className:"d-flex"},r.a.createElement(i.b,{to:"/submissions/accepted",className:"mx-auto mb-auto"},r.a.createElement(Be.a,{variant:"outline-success",className:e+ra.a.accepted,style:{color:"lightgreen"}},r.a.createElement(sa.a,null),r.a.createElement("br",null),"Accepted"))),r.a.createElement(A.a,{item:!0,xs:12,md:4,className:"d-flex"},r.a.createElement(i.b,{to:"/submissions/rejected",className:"mx-auto mb-auto"},r.a.createElement(Be.a,{variant:"outline-danger",className:e+ra.a.rejected,style:{color:"rgb(255, 162, 162)"}},r.a.createElement(ca.a,null),r.a.createElement("br",null),"Rejected"))))},exact:!0,private:!0},{path:[fa.private.submissions.pending,fa.private.submissions.accepted,fa.private.submissions.rejected],component:ta,exact:!0,private:!0},{component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ia.a,null,r.a.createElement(oa.a,{className:"d-flex",style:{height:"100vh"}},r.a.createElement(ua.a,{xs:9,md:6,className:"m-auto d-flex"},r.a.createElement(oa.a,null,r.a.createElement(ua.a,{xs:12,className:"d-flex"},r.a.createElement(ma.a,{fluid:!0,className:"mx-auto w-50",src:"/assets/medusa-original.png",draggable:!1})),r.a.createElement(ua.a,{xs:12,className:"d-flex"},r.a.createElement("h3",{className:"mx-auto"},"404: Page not found")),r.a.createElement(ua.a,{xs:12,className:"d-flex"},r.a.createElement(i.b,{className:"mx-auto",to:fa.public.home},r.a.createElement(da.a,{icon:pa.a})," Back to home")))))))}}],ha=(t(178),t(270)),va=t(132),ba=t(269),Ea=t(276),ya=t(278),xa=function(e){Object(B.a)(t,e);var a=Object(U.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).toast=e.hardBind(oe.shared.toast),e.closeToast=function(a,t){"clickaway"!==t&&(e.toast.value=Object(G.a)(Object(G.a)({},e.toast.value),{},{display:!1}))},e}return Object(M.a)(t,[{key:"render",value:function(){var e=this.toast.value,a=e.display,t=e.severity,n=e.message;return r.a.createElement(ya.a,{open:a,autoHideDuration:6e3,onClose:this.closeToast},r.a.createElement(Ea.a,{elevation:6,variant:"filled",onClose:this.closeToast,severity:t},String(n)))}}]),t}(oe);function ja(e){var a=e.children,t=Object(n.useState)(!1),l=Object(p.a)(t,2),s=l[0],i=l[1],o=Object(c.f)(),u=Object(c.g)();return r.a.useEffect((function(){Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.checkAuth();case 3:if(t=e.sent,i(204===t.status),console.log(a),s){e.next=13;break}if(403!==t.status){e.next=12;break}return e.next=10,F.refreshToken();case 10:222===(t=e.sent).status&&i(!0);case 12:401===t.status&&u.pathname!==fa.public.login&&o.push(fa.public.login);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[s]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(r.a.Fragment,null,a):r.a.createElement(de,null))}var wa=Object(va.a)({palette:{type:"dark",primary:ba.a},typography:{fontFamily:["Circular","Barlow","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}});function Na(){var e=r.a.createElement(ha.a,{theme:wa},r.a.createElement(xa,null),r.a.createElement(c.c,null,ga.map((function(e){return e.private?r.a.createElement(ja,{key:V()()},r.a.createElement(c.a,Object.assign({key:V()()},e))):r.a.createElement(c.a,Object.assign({key:V()()},e))}))));return r.a.createElement(i.a,{basename:"/"},e)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Na,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,a,t){e.exports={"play-icon":"submissions_play-icon__1_pBj","release-row-controls":"submissions_release-row-controls__2X1k7","playlist-row":"submissions_playlist-row__vH8oX"}},85:function(e,a,t){e.exports={"selection-button":"Selection_selection-button__xJMzN",pending:"Selection_pending__3siYy",accepted:"Selection_accepted__3cq8f",rejected:"Selection_rejected__2HrUs"}}},[[156,1,2]]]);
//# sourceMappingURL=main.68683576.chunk.js.map